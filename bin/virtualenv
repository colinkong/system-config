#!/bin/sh
#
# Wrapper for Python "bin" script to call Python module
#
VERSION=20170512

PYEXE="python3"
PYDIR=`dirname "$0"`
PYMOD=`basename "$0"`
case "$PYMOD" in
2to3)
    PYMOD="lib2to3"
    ;;
docker-compose)
    PYMOD="compose"
    ;;
ipdb|pip|pydoc)
    PYEXE="python2"  # Defaults Python 2.7
    ;;
ipython)
    PYMOD="IPython"
    ;;
pep8)
    ;;
*[2-9].[0-9])
    PYEXE=`echo "$PYMOD" | sed -e 's/\(^.*\)\(...$\)/python\2/'`  # ie python3.4
    PYMOD=`echo "$PYMOD" | sed -e "s/-*...\$//"`  # ie pylint
    ;;
*[2-9])
    PYEXE=`echo "$PYMOD" | sed -e 's/\(^.*\)\(.$\)/python\2/'`  # ie python3
    PYMOD=`echo "$PYMOD" | sed -e "s/-*.\$//"`  # ie pylint
    ;;
esac

exec "$PYDIR/$PYEXE" -m $PYMOD "$@"
